<ion-modal [isOpen]="isModalOpen" (willDismiss)="onWillDismiss($event)">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="cancel()">Cancelar</ion-button>
        </ion-buttons>
        <ion-title>Formulario</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-item>

        <form [formGroup]="formToExercise" (ngSubmit)="confirm()">

          <ion-item>
            <ion-label position="floating">Series</ion-label>
            <ion-input type="number" formControlName="sets"></ion-input>
          </ion-item>

          @if (formToExercise.get('sets')?.touched && formToExercise.get('sets')?.invalid) {
            <div>
              <ion-text color="danger">
                @if (formToExercise.get('sets')?.hasError('required')) {
                  <p>El campo Series es obligatorio.</p>
                }
                @if(formToExercise.get('sets')?.hasError('min')) {
                  <p>El campo Series debe ser mayor a 0.</p>
                }
              </ion-text>
            </div>
          }
      
          <ion-item>
            <ion-label position="floating">Repeticiones</ion-label>
            <ion-input type="number" formControlName="repetitions"></ion-input>
          </ion-item>

          @if (formToExercise.get('repetitions')?.touched && formToExercise.get('repetitions')?.invalid) {
            <div>
              <ion-text color="danger">
                @if (formToExercise.get('repetitions')?.hasError('required')) {
                  <p>El campo Repeticiones es obligatorio.</p>
                }
                @if(formToExercise.get('repetitions')?.hasError('min')) {
                  <p>El campo Repeticiones debe ser mayor a 0.</p>
                }
              </ion-text>
            </div>
          }

          <ion-item>
            <ion-label position="floating">Peso</ion-label>
            <ion-input type="number" formControlName="weight"></ion-input>
          </ion-item>
      
          @if (formToExercise.get('weight')?.touched && formToExercise.get('weight')?.invalid) {
            <div>
              <ion-text color="danger">
                @if (formToExercise.get('weight')?.hasError('required')) {
                  <p>El campo Peso es obligatorio.</p>
                }
                @if(formToExercise.get('weight')?.hasError('min')) {
                  <p>El campo Peso debe ser mayor a 0.</p>
                }
              </ion-text>
            </div>
          }

          <ion-button expand="full" type="submit" [disabled]="formToExercise.invalid">Enviar</ion-button>
          
        </form>
      </ion-item>
    </ion-content>
  </ng-template>
</ion-modal>
